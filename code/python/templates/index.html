{% extends "layout.html" %}

{% block content %}
  <h1>Countdown Timer</h1>
  <div id="timer"></div>
  <button id="startButton">Start</button>
  <button id="resetButton" disabled>Reset</button>

  <script>
    let timerInterval;
    let secondsLeft = 25 * 60; // 25 minutes in seconds

    // Function that updates and displays the timer
    function updateTimer(seconds) {
      const timerElement = document.getElementById('timer');
      const minutes = Math.floor(seconds / 60);
      const remainingSeconds = seconds % 60;

      timerElement.textContent = `${minutes}:${remainingSeconds < 10 ? '0' : ''}${remainingSeconds}`;
    }

    // Function that starts the countdown
    function startCountdown() {
      timerInterval = setInterval(() => {
        secondsLeft--;
        updateTimer(secondsLeft);

        if (secondsLeft === 0) {
          clearInterval(timerInterval);
          alert('Time is up!');
        }
      }, 1000);
    }

    // Function that resets the countdown
    function resetCountdown() {
      clearInterval(timerInterval);
      secondsLeft = 25 * 60;
      updateTimer(secondsLeft);
      document.getElementById('startButton').disabled = false;
      document.getElementById('resetButton').disabled = true;
    }

    // Add event listeners to the buttons
    document.getElementById('startButton').addEventListener('click', function() {
      startCountdown();
      document.getElementById('startButton').disabled = true;
      document.getElementById('resetButton').disabled = false;
    });

    document.getElementById('resetButton').addEventListener('click', resetCountdown);

    // Initialize the timer display
    updateTimer(secondsLeft);
  </script>
{% endblock %}